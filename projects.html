<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio Projects</title>
  <style>
    body { background: linear-gradient(45deg, #ffc1c1, #ffb1dd69); font-family: Arial, sans-serif; margin: 0; }
    h2 { text-align: center; margin: 20px 0; color: #1e1e1e; }

    /* Filter Buttons */
    .filter-buttons { text-align: center; margin-bottom: 20px; }
    .filter-buttons button {
      background: red; color: white; border: none; padding: 10px 20px;
      margin: 5px; border-radius: 5px; cursor: pointer; font-size: 15px; transition: background 0.3s;
    }
    .filter-buttons button:hover, .filter-buttons button.active { background: darkred; }

    /* Portfolio */
    .portfolio-container {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 20px; max-width: 1200px; margin: auto; padding: 20px;
    }
    .project {
      display: none; background: #1e1e1e; border-radius: 8px; overflow: hidden; position: relative; color: #fff;
    }
    .project img { width: 100%; display: block; }
    .overlay {
      position: absolute; inset: 0; background: rgba(0,0,0,0.6);
      display: flex; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s;
    }
    .project:hover .overlay { opacity: 1; }
    .icon-btn {
      background: red; color: #fff; border-radius: 50%; width: 45px; height: 45px;
      display: flex; align-items: center; justify-content: center; font-size: 20px; margin: 0 5px;
      cursor: pointer; text-decoration: none;
    }
    .project h3 { margin: 0; padding: 10px; background: #333; text-align: center; }

    /* Load More Button */
    .load-more-container { text-align: center; margin: 20px 0 40px; }
    .load-more-btn {
      background: red; color: white; border: none; padding: 12px 25px;
      font-size: 16px; border-radius: 5px; cursor: pointer; transition: background 0.3s;
    }
    .load-more-btn:hover { background: darkred; }

    /* Modal */
    .modal {
      display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9);
      justify-content: center; align-items: center; z-index: 1000;
    }
    .modal img { max-width: 90%; max-height: 80%; border-radius: 8px; }
    .close { position: absolute; top: 20px; right: 30px; font-size: 35px; color: white; cursor: pointer; }

    @media only screen and (max-width: 768px) {
      .portfolio-container { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important; }
    }
  </style>
</head>
<body>
  <h2>Our Featured Projects</h2>

  <!-- Filter Buttons -->
  <div class="filter-buttons">
    <button class="active" onclick="filterProjects('all', this)">All</button>
    <button onclick="filterProjects('ecommerce', this)">E-commerce</button>
    <button onclick="filterProjects('html', this)">HTML</button>
    <button onclick="filterProjects('wordpress', this)">WordPress</button>
  </div>

  <div class="portfolio-container" id="portfolio">
    <!-- Tag projects by category (class) -->
    <div class="project ecommerce">
      <img src="https://picsum.photos/800/800?random=1" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=1')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>PN Jeweller (E-commerce)</h3>
    </div>

    <div class="project html">
      <img src="https://picsum.photos/800/800?random=2" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=2')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>HTML Landing Page</h3>
    </div>

    <div class="project wordpress">
      <img src="https://picsum.photos/800/800?random=3" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=3')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>WordPress Blog</h3>
    </div>

    <div class="project ecommerce">
      <img src="https://picsum.photos/800/800?random=4" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=4')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Shop Project</h3>
    </div>

    <div class="project html">
      <img src="https://picsum.photos/800/800?random=5" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=5')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Portfolio HTML</h3>
    </div>

    <div class="project wordpress">
      <img src="https://picsum.photos/800/800?random=6" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=6')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>WordPress Store</h3>
    </div>

    <div class="project html">
      <img src="https://picsum.photos/800/800?random=7" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=7')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Another Project</h3>
    </div>

    <div class="project wordpress">
      <img src="https://picsum.photos/800/800?random=8" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=8')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Third Project</h3>
    </div>

    <div class="project ecommerce">
      <img src="https://picsum.photos/800/800?random=9" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=9')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Fourth Project</h3>
    </div>

    <div class="project html">
      <img src="https://picsum.photos/800/800?random=10" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=10')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Fifth Project</h3>
    </div>

    <div class="project wordpress">
      <img src="https://picsum.photos/800/800?random=11" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=11')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>Sixth Project</h3>
    </div>

    <div class="project ecommerce">
      <img src="https://picsum.photos/800/800?random=12" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=12')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>7th Project</h3>
    </div>

    <div class="project html">
      <img src="https://picsum.photos/800/800?random=13" alt="">
      <div class="overlay">
        <span class="icon-btn" onclick="openModal('https://picsum.photos/800/800?random=13')">+</span>
        <a href="https://example.com" target="_blank" class="icon-btn">ðŸ”—</a>
      </div>
      <h3>8th Project</h3>
    </div>
  </div>

  <div class="load-more-container">
    <button class="load-more-btn" id="loadMore">Load More</button>
  </div>

  <!-- Modal -->
  <div id="popupModal" class="modal" onclick="outsideClose(event)">
    <span class="close" onclick="closeModal()">&times;</span>
    <img id="modalImg" src="" alt="">
  </div>

  <script>
    const allProjects = Array.from(document.querySelectorAll('.project'));
    const loadMoreBtn = document.getElementById('loadMore');

    let currentCategory = 'all';
    let visible = 3;
    const step = 3;

    function getFiltered() {
      return allProjects.filter(p => currentCategory === 'all' || p.classList.contains(currentCategory));
    }

    function showProjects() {
      const filtered = getFiltered();

      // Hide all first
      allProjects.forEach(p => p.style.display = 'none');

      // Show only the first `visible` of filtered
      filtered.slice(0, visible).forEach(p => p.style.display = 'block');

      // Update button label/visibility
      if (filtered.length <= 3 && visible <= 3) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.style.display = 'inline-block';
        loadMoreBtn.innerText = (visible >= filtered.length) ? 'Show Less' : 'Load More';
      }
    }

    // Initial render
    showProjects();

    // Load More / Show Less
    loadMoreBtn.onclick = () => {
      const filtered = getFiltered();
      visible = (visible >= filtered.length) ? 3 : Math.min(visible + step, filtered.length);
      showProjects();
    };

    // Filtering
    function filterProjects(category, btn) {
      currentCategory = category;
      document.querySelectorAll('.filter-buttons button').forEach(b => b.classList.remove('active'));
      if (btn) btn.classList.add('active');
      visible = 3; // reset on filter change
      showProjects();
    }

    // Modal
    function openModal(src) {
      document.getElementById("popupModal").style.display = "flex";
      document.getElementById("modalImg").src = src;
    }
    function closeModal() {
      document.getElementById("popupModal").style.display = "none";
    }
    function outsideClose(e) {
      if (e.target.id === "popupModal") closeModal();
    }
  </script>
</body>
</html>
